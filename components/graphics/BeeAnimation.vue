<script setup lang="ts">
const { honey } = useThemeColors()

const { $gsap } = useNuxtApp()

function beeMove() {
  $gsap.to('#bee-animation-bee-glyph', {
    motionPath: {
      path: '#bee-animation-motion-path',
      align: '#bee-animation-motion-path',
      alignOrigin: [0.5, 0.5],
      autoRotate: true,
    },
    transformOrigin: '50% 50%',
    duration: 5,
  })
}

onMounted(() => {
  beeMove()
})
</script>

<template>
  <div>
    <svg
      id="bee-animation"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 800 800"
    >
      <path
        id="bee-animation-motion-path"
        fill="none"
        d="M607,529c22.7,35.7,44.5,81.6,27,112c-19.8,34.5-76,24.3-168,35
	c-170,19.8-207.2,55.2-271,31C100.3,671.1,55.3,555.6,95,490c25.2-41.7,78.1-18.6,136-73c40-53,17-87,61-162
	c58.3-99.4,156.4-171.1,186-153c27.5,16.8-13,105.9,28,133c12.7,8.4,37.3,13.5,45,4c4.6-5.6,7.1-12.7,7-20"
      />
      <g id="bee-animation-background" :fill="honey.hex">
        <polygon
          points="611.1,455.6 580.2,455.6 564.8,482.3 580.2,509 611.1,509 626.5,482.3 	"
        />
        <polygon
          points="302,450.7 196.9,450.7 144.4,541.6 196.9,632.5 302,632.5 354.5,541.6 	"
        />
        <polygon
          opacity="0.75"
          points="512,268.7 354.5,268.7 275.8,405.1 354.5,541.5 512,541.5 590.7,405.1 	"
        />
        <path
          opacity="0.75"
          d="M236.8,391.2h-72.2l-36.1-62.5l36.1-62.5h72.2l36.1,62.5L236.8,391.2z M167.8,385.5h65.7l32.9-56.9l-32.9-56.9
		h-65.7l-32.9,56.9L167.8,385.5z"
        />
        <path
          d="M340.2,450.9H268l-36.1-62.5l36.1-62.5h72.2l36.1,62.5L340.2,450.9z M271.2,445.3H337l32.9-56.9L337,331.4
		h-65.8l-32.9,56.9L271.2,445.3z"
        />
        <polygon
          opacity="0.75"
          points="517.8,438.7 446.1,438.7 410.3,500.7 446.1,562.7 517.8,562.7 553.5,500.7 	"
        />
        <path
          d="M568.1,636.5h-72.2L459.8,574l36.1-62.5h72.2l36.1,62.5L568.1,636.5z M499.1,630.9h65.7l32.9-56.9l-32.9-56.9
		h-65.7L466.3,574L499.1,630.9z"
        />
        <path
          d="M605.4,392.5H473.2L407.1,278l66.1-114.6h132.2L671.6,278L605.4,392.5z M476.4,386.9h125.8L665.1,278
		l-62.9-108.9H476.5L413.6,278L476.4,386.9z"
        />
      </g>

      <g
        id="bee-animation-bee-glyph"
        :fill="honey.hex"
        class="filter-drop-shadow z-100"
        @click="beeMove()"
      >
        <path
          d="M632.5,571.5c-8.5,5-19.6,12.3-29.9,11c-11.9-1.9-27.5-11.6-32.6-22.8c11.1-6.8,27.2-11.3,40.2-8.8
		c6.6,1.3,12.9,3.8,18.8,7c1.1,0.6,2.2,1.3,3.3,2c-0.1,0.2-0.3,0.4-0.4,0.6c-0.6,1.1-1,2.2-1.2,3.4c0,0.3-0.1,0.7-0.1,1
		c0,0.2,0,0.4,0,0.6c0,1.7,0.5,3.4,1.3,5.1C632.2,570.9,632.4,571.2,632.5,571.5z"
          opacity="0.8"
        />
        <path
          d="M657.5,571.5c8.5,5,19.6,12.3,29.9,11c11.9-1.9,27.5-11.6,32.6-22.8c-11.1-6.8-27.2-11.3-40.2-8.8
		c-6.6,1.3-12.9,3.8-18.8,7c-1.1,0.6-2.2,1.3-3.3,2c0.1,0.2,0.3,0.4,0.4,0.6c0.6,1.1,1,2.2,1.2,3.4c0,0.3,0.1,0.7,0.1,1
		c0,0.2,0,0.4,0,0.6c0,1.7-0.5,3.4-1.3,5.1C657.8,570.9,657.6,571.2,657.5,571.5z"
          opacity="0.8"
        />
        <path
          d="M675.4,593.2c0,0-1.5-3.1-1.5-3.1c-1-2.5-2.5-4.8-4.9-6.1c-0.8-0.4-11-5.5-12.1-6.1
		c11.3,17.4,4.1,41.4-9.5,55.4c-1.1,1-2.3,1.9-2.8,3.4c-0.5,2,0.1,4.2,0.8,6.1c0.1,0.2,0,0.4-0.2,0.5c-1,0-1.2-1.7-1.6-2.4
		c-0.8-2.1-1.2-4.7-0.1-6.8c-14.2-13.9-21.8-38.5-10.4-56.2c-1.1,0.5-11.4,5.7-12.1,6.1c-2.4,1.3-3.9,3.7-4.9,6.1
		c0,0-1.5,3.1-1.5,3.1c-0.3,0.6-1.2,0.2-1-0.4c1.8-4.9,2.9-9,8-11.4c0,0,12-6.9,12-6.9c0.1,0,0.1,0,0.2-0.1c0.9-0.4,1.8-1,2.7-1.7
		c-4.4-4.2-5.4-11.2,1.6-15c-2.3-3.1-1.1-7,1.9-9c0,0,0,0,0,0c-0.2-1.5-0.9-3-2.2-3.8c-0.2-0.1-0.8-0.5-1-0.6
		c-1.8-1.1-3.7-2.1-5.6-3.1c-0.3-0.1-0.1-0.5,0.2-0.4c2.2,0.9,4.4,1.9,6.6,3c1.8,0.8,2.9,2.4,3.4,4.2c2.2-0.9,4.8-0.9,7,0.1
		c0.5-1.8,1.6-3.5,3.4-4.3c2.2-1.1,4.4-2.1,6.6-3c0.3-0.1,0.4,0.3,0.2,0.4c-1.9,0.9-3.8,2-5.6,3.1c-0.2,0.1-0.8,0.5-1,0.6
		c-1.3,0.8-2,2.4-2.2,3.8c0,0.1,0,0.1,0,0.1c2.9,2,3.9,5.9,1.9,8.9c7.1,3.7,6.1,10.7,1.6,15c0.9,0.7,1.8,1.3,2.7,1.7c0,0,0,0,0,0
		c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0,0,12,6.9,12,6.9c5.1,2.4,6.3,6.5,8,11.4C676.6,593.5,675.7,593.8,675.4,593.2z"
        />
      </g>
    </svg>
  </div>
</template>
